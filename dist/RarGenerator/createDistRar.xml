<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<project default="create_dist_rar" name="Create Runnable Jar for Project Most used IPs with Jar-in-Jar Loader">
	<!--this file was created by Eclipse Runnable JAR file Export Wizard-->
	<!--ANT 1.7 is required-->
	<!--define folder properties-->
	<property name="dir.buildfile" value="." />
	<property name="dir.workspace" value="${dir.buildfile}" />

	<property name="dir.maven_repo" value="E:/.m2/repository" />
	<!-- HARDCODED PATH, MODIFY IF NEEDED -->

	<property name="dir.jarfile" value="MostUsedIPs" />
	<target name="create_dist_rar">
		<jar destfile="MostUsedIPs/MostUsedIPs.jar">
			<manifest>
				<attribute name="Main-Class" value="org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader" />
				<attribute name="Rsrc-Main-Class" value="mostusedips.Main" />
				<attribute name="Class-Path" value="." />
				<attribute name="Rsrc-Class-Path" value="./ org.eclipse.fx.ide.css.jfx8_2.1.0.201508240705.jar jnativehook-2.0.2.jar freetts-1.2.2.jar jnetpcap-1.4.r1425-1f.jar commons-io-2.4.jar json-20151123.jar commons-collections-3.0.jar" />
			</manifest>
			<zipfileset src="jar-in-jar-loader.zip" />
			<fileset dir="../../target/classes" />
			<zipfileset dir="." includes="org.eclipse.fx.ide.css.jfx8_2.1.0.201508240705.jar" />

			<zipfileset dir="${dir.maven_repo}/commons-io/commons-io/2.4" includes="commons-io-2.4.jar" />
			<zipfileset dir="${dir.maven_repo}/com/1stleg/jnativehook/2.0.2" includes="jnativehook-2.0.2.jar" />
			<zipfileset dir="${dir.maven_repo}/net/sf/sociaal/freetts/1.2.2" includes="freetts-1.2.2.jar" />
			<zipfileset dir="${dir.maven_repo}/jnetpcap/jnetpcap/1.4.r1425-1f" includes="jnetpcap-1.4.r1425-1f.jar" />
			<zipfileset dir="${dir.maven_repo}/org/json/json/20151123" includes="json-20151123.jar" />
			<zipfileset dir="${dir.maven_repo}/commons-collections/commons-collections/3.0" includes="commons-collections-3.0.jar" />

		</jar>
		<mkdir dir="MostUsedIPs" />
		<exec executable="cmd">
			<arg value="/c" />
			<arg value="launch4jc" />
			<arg value="mostUsedIPs-launch4j.xml" />
		</exec>
		<delete file="MostUsedIPs/MostUsedIPs.jar" />
		<copy file="../../NBA2K Europe MyPark.watchdogPreset" toDir="MostUsedIPs" />
		<exec executable="cmd">
			<arg value="/c" />
			<arg value="rar" />
			<arg value="a" />
			<arg value="../MostUsedIPs.rar" />
			<arg value="MostUsedIPs" />
		</exec>
		<delete dir="MostUsedIPs" />
	</target>
</project>
